http://www.jianshu.com/p/efcf030e68c5
http://www.cnblogs.com/qiyeboy/p/5728293.html
https://github.com/ResolveWang/smart_login/blob/master/baidu/login_direct.py

得到gid
gid = this.guideRandom = function () {
　　　　　　return 'xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (e) {
　　　　　　var t = 16 * Math.random() | 0,
　　　　　　n = 'x' == e ? t : 3 & t | 8;
　　　　　　return n.toString(16)
　　　　　　}).toUpperCase()
　　　　}()

function gid(){
        return 'xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (e) {
        var t = 16 * Math.random() | 0,
        n = 'x' == e ? t : 3 & t | 8;
        return n.toString(16)
        }).toUpperCase()

获得callback
callback = 'bd__cbs__'+Math.floor(2147483648 *Math.random()).toString(36)

获取网址A
https://passport.baidu.com/v2/api/?getapi&tpl=mn&apiver=v3&tt=1495185331704&class=login&gid=63F95D8-F402-4128-A98B-C7D3C19B8F89&logintype=dialogLogin&callback=bd__cbs__3cagws

获得token
A中返回的JSON

获得ppui_logintime
ppui_logintime为输入登陆信息到点击登陆的时间差

获得codeString、vcodetype（没什么用）
https://passport.baidu.com/v2/api/?logincheck&token=61ed8a353fa7e2a63cf8f94650ef2d47&tpl=mn&apiver=v3&tt=1495185970995&sub_source=leadsetpwd&username=灰色52056&isphone=false&dv=MDEwAAoAIwAKAkYAIQAAAF00AAwCAB_TmpqakyIqfj9xNmQlaDdoOGs7ZFwDXClaP00DYg9qDAIAH9Obm5uSPZfDgsyL2ZjVitWF1obZ4b7hlOeC8L7fstcIAgAJy8rExbu7shVcCQIADMvKeHhCQkJCS9zr6wcCAATLy8vLBwIABMvLy8sMAgAPw9HR0dUSfQljPFA_WDFfDQIABcvK_woKDQIABcvK58XFDQIABcvK5_v7DQIABcvLxjExDQIABcvLxigoBgIAKMvLy4yMjIyMjIyJBgYGBmNjY2bGxsbFQUFBROTk5Oe7u7u-Dg4ODWETAgAay93d3bXBtcW2jKOM-4z71bfWv9uugOOM4c4XAgAPyMl6enAtBD5YJUMsXnYABAIABsjIysv_zBUCAAjLy8qWiXTjGwECAAbLycnGzzAFAgAEy8vLwRYCACLqnvXF69ju2evd6tvq3-7b6N3l0eDR5dzp2ODV5tXn1eXSEAIAAcsHAgAEy8vLywgCAAnLy7m5nZ2ZAiMJAgAMy8rOzvv7-_vyovPzCAIAH93f09O3t74tTDxdLl0tQjBEaQVqDWQKJ1c4SGUEdB0HAgAEy8vLywgCAAnLyhsbU1NawGAJAgAk09GpqLCwsLC5FR0dSQhGAVMSXwBfD1wMU2s0ax5tCHo0VThdBwIABMvLy8sHAgAEy8vLywwCAB_ThoaGjz94LG0jZDZ3OmU6ajlpNg5RDnsIbR9RMF04BwIABMvLy8sMAgAf09vb29Jjit6f0ZbEhciXyJjLm8T8o_yJ-p_to8Kvyg&callback=bd__cbs__njimhi

最新的百度登录多了一个叫DV的参数

获得codestring
https://passport.baidu.com/v2/api/?logincheck&callback=bdPass.api.login._needCodestringCheckCallback&tpl=mn&charset=utf-8&index=0&username=灰色52056&time=1345429566039

获得rsakey

https://passport.baidu.com/v2/getpublickey?token=fcd1f6684072372c6812a44c1d94bf51&tpl=mn&apiver=v3&tt=1461222170065&gid=C539A37-9B0C-4538-9920-E150AC6AE0D5&callback=bd__cbs__tpdrlq

from Crypto.PublicKey import RSA
from Crypto.Cipher import PKCS1_v1_5
password = 'xxxxxxxx'
with open('pub.pem') as f:
    pubkey = f.read()
    rsakey = RSA.importKey(pubkey)
    cipher = PKCS1_v1_5.new(rsakey)
    cipher_text = base64.b64encode(cipher.encrypt(password))
    print cipher_text


获取dv
_loginCheck: function (e) {
var t = this,
n = document.getElementById('dv_Input'),
i = n ? n.value || '' : '';
i = i.length > 1500 ? '' : i,
e.length && t.validate('userName', {
success: function () {
passport.data.loginCheck({
sub_source: 'leadsetpwd',
userName: e,
isPhone: t.config.isPhone,
dv: i
}).success(function (e) {
0 == e.errInfo.no && e.data.userid ? (t.checkPhone(e.data.userid, e.data.mobile), checkPhoneExist = !0, t._ownerDialog && t._ownerDialog.hide('unHide'))  : e.data.codeString.length ? (t.vcodetype = e.data.vcodetype, t.getVerifyCode(e.data.codeString))  : t.clearVerifyCode()
})
}
})
},